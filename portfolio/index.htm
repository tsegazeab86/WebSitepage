<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Portfolio</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* --- Loader --- */
    #loader {
      position: fixed;
      width: 100%;
      height: 100%;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .loader-circle {
      border: 5px solid #ccc;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* --- Dark mode --- */
    body.dark { background: #121212; color: #eee; }
    body.dark .card { background: #1e1e1e; }

    /* --- Basic styling --- */
    body { font-family: Arial, sans-serif; margin:0; }
    .header { position: fixed; width:100%; background:#fff; display:flex; justify-content:space-between; padding:15px; z-index:10; transition:0.3s; }
    body.dark .header { background:#1e1e1e; }
    .container { width:90%; margin:auto; }
    .section { padding:100px 0; }
    .section-title { font-size:2rem; margin-bottom:20px; }
    .btn { padding:10px 20px; background:#3498db; color:#fff; border:none; cursor:pointer; border-radius:5px; text-decoration:none; }
    body.dark .btn { background:#0d6efd; }

    /* --- Skills --- */
    .skill { margin-bottom:15px; }
    .skill-title { margin-bottom:5px; }
    .progress { width:100%; background:#ddd; height:20px; border-radius:10px; overflow:hidden; }
    .progress-bar { width:0; height:100%; background:#3498db; transition:width 1s; }

    /* --- Cards / Projects --- */
    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
    .card { background:#fff; padding:20px; border-radius:10px; opacity:0; transform:translateY(50px); transition:all 0.6s; }
    .card.show { opacity:1; transform:translateY(0); }
    body.dark .card { background:#1e1e1e; }

    /* --- Modal --- */
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); align-items:center; justify-content:center; z-index:20; }
    .modal-content { background:#fff; padding:20px; border-radius:10px; max-width:500px; width:90%; position:relative; }
    #closeModal { position:absolute; top:10px; right:15px; cursor:pointer; font-size:1.5rem; }
    body.dark .modal-content { background:#2c2c2c; color:#eee; }

    /* --- Contact form --- */
    .contact-form { display:flex; flex-direction:column; gap:10px; }
    .contact-form input, .contact-form textarea { padding:10px; border-radius:5px; border:1px solid #ccc; width:100%; }
    .contact-form button { width:150px; }
    #formMessage { margin-top:10px; padding:10px; border-radius:5px; }

  </style>
</head>
<body>

  <!-- LOADER -->
  <div id="loader">
    <div class="loader-circle"></div>
  </div>

  <!-- HEADER -->
  <header class="header">
    <div class="container nav">
      <h2 class="logo">YourName</h2>
      <button id="themeToggle">ðŸŒ™</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="section hero">
    <div class="container hero-content">
      <h1>Hello, I'm <span>Your Name</span></h1>
      <p id="typed-text"></p>
      <a href="#projects" class="btn">View Projects</a>
    </div>
  </section>

  <!-- ABOUT -->
  <section class="section" id="about">
    <div class="container">
      <h2 class="section-title">About Me</h2>
      <p>I am a passionate CS student focused on building modern web applications.</p>
    </div>
  </section>

  <!-- SKILLS -->
  <section class="section" id="skills">
    <div class="container">
      <h2 class="section-title">Skills</h2>
      <div class="skill"><div class="skill-title">HTML</div><div class="progress"><div class="progress-bar" data-width="95%"></div></div></div>
      <div class="skill"><div class="skill-title">CSS</div><div class="progress"><div class="progress-bar" data-width="90%"></div></div></div>
      <div class="skill"><div class="skill-title">JavaScript</div><div class="progress"><div class="progress-bar" data-width="85%"></div></div></div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section class="section" id="projects">
    <div class="container">
      <h2 class="section-title">Projects</h2>
      <div class="grid">
        <div class="card" data-title="Calculator" data-desc="Fully functional calculator built with JavaScript.">
          <h3>Calculator</h3>
          <button class="open-modal">View Details</button>
        </div>
        <div class="card" data-title="Snake Game" data-desc="Classic snake game with HTML5 Canvas.">
          <h3>Snake Game</h3>
          <button class="open-modal">View Details</button>
        </div>
        <div class="card" data-title="Music Player" data-desc="Modern music player with playlist controls.">
          <h3>Music Player</h3>
          <button class="open-modal">View Details</button>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section" id="contact">
    <div class="container">
      <h2 class="section-title">Contact</h2>
      <form id="contactForm" class="contact-form">
        <input type="text" id="name" placeholder="Full Name" required>
        <input type="email" id="email" placeholder="Email Address" required>
        <textarea id="message" placeholder="Your Message" required></textarea>
        <button type="submit" class="btn">Send Message</button>
        <p id="formMessage"></p>
      </form>
    </div>
  </section>

  <!-- PROJECT MODAL -->
  <div id="projectModal" class="modal">
    <div class="modal-content">
      <span id="closeModal">&times;</span>
      <h3 id="modalTitle"></h3>
      <p id="modalDesc"></p>
    </div>
  </div>

  <!-- EMAILJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
  document.addEventListener("DOMContentLoaded", function () {

    // --- Loader ---
    window.addEventListener("load", () => {
      const loader = document.getElementById("loader");
      if(loader) loader.style.display = "none";
    });

    // --- Typing animation ---
    const typedText = document.getElementById("typed-text");
    const words = ["CS Student","Frontend Developer","Web Designer"];
    let wIndex = 0, cIndex = 0, deleting = false;
    function typeEffect() {
      if(!typedText) return;
      let word = words[wIndex];
      if(deleting) typedText.textContent = word.substring(0, cIndex--);
      else typedText.textContent = word.substring(0, cIndex++);
      if(!deleting && cIndex === word.length) { deleting = true; setTimeout(typeEffect, 1000); return; }
      if(deleting && cIndex === 0) { deleting = false; wIndex=(wIndex+1)%words.length; }
      setTimeout(typeEffect, deleting?50:100);
    }
    typeEffect();

    // --- Dark mode ---
    const themeToggle = document.getElementById("themeToggle");
    if(themeToggle) themeToggle.addEventListener("click",()=>document.body.classList.toggle("dark"));

    // --- Scroll reveal ---
    const cards = document.querySelectorAll(".card");
    const cardObserver = new IntersectionObserver(entries=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting) entry.target.classList.add("show");
      });
    },{threshold:0.2});
    cards.forEach(c=>cardObserver.observe(c));

    // --- Skill bars ---
    const bars = document.querySelectorAll(".progress-bar");
    const skillObserver = new IntersectionObserver(entries=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting) entry.target.style.width = entry.target.dataset.width;
      });
    },{threshold:0.5});
    bars.forEach(b=>skillObserver.observe(b));

    // --- Project modal ---
    const projectModal = document.getElementById("projectModal");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc = document.getElementById("modalDesc");
    const closeModal = document.getElementById("closeModal");
    document.querySelectorAll(".open-modal").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const card = btn.parentElement;
        modalTitle.textContent = card.dataset.title;
        modalDesc.textContent = card.dataset.desc;
        projectModal.style.display = "flex";
        document.body.style.overflow="hidden";
      });
    });
    if(closeModal) closeModal.addEventListener("click",()=>{
      projectModal.style.display="none";
      document.body.style.overflow="auto";
    });
    window.addEventListener("click", e=>{
      if(e.target===projectModal){ projectModal.style.display="none"; document.body.style.overflow="auto"; }
    });

    // --- EmailJS Contact Form ---
    if(typeof emailjs!=="undefined"){
      emailjs.init("jvC2s8tA-LE6u-zDU"); // <-- Replace with your key
    }

    const contactForm = document.getElementById("contactForm");
    const formMessage = document.getElementById("formMessage");
    if(contactForm && formMessage && typeof emailjs!=="undefined"){
      contactForm.addEventListener("submit", function(e){
        e.preventDefault();
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();
        if(!name || !email || !message){
          formMessage.textContent="Please fill in all required fields.";
          formMessage.style.color="white"; formMessage.style.backgroundColor="red";
          return;
        }
        const submitBtn = contactForm.querySelector("button");
        submitBtn.disabled=true; submitBtn.textContent="Sending...";
        emailjs.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",{from_name:name,from_email:email,message:message})
        .then(()=>{ 
          formMessage.textContent="Message sent successfully!";
          formMessage.style.color="white"; formMessage.style.backgroundColor="green";
          contactForm.reset();
          submitBtn.disabled=false; submitBtn.textContent="Send Message";
        })
        .catch(err=>{
          console.error("EmailJS Error:",err);
          formMessage.textContent="Failed to send message. Please try again later.";
          formMessage.style.color="white"; formMessage.style.backgroundColor="red";
          submitBtn.disabled=false; submitBtn.textContent="Send Message";
        });
      });
    }

  });
  </script>
</body>
</html>
